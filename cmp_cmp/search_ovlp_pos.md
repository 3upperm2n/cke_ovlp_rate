

```python
import warnings
import pandas as pd
import numpy as np
import os
import operator # sorting
from read_trace import *

warnings.filterwarnings("ignore", category=np.VisibleDeprecationWarning)
```


```python
# ls all the trace files in the targeted folder
target_folder = './profile_results'
trace_list = []
for root, dirs, files in os.walk(target_folder):
    for file in files:
        if 'trace' in file:
            trace_list.append(file)
```


```python
# record the overlapping rate for different data size
ovlp_dict = {}

for item in trace_list:
    trace_file = target_folder + "/" + item
    current_ovlp = check_kernel_ovlprate(trace_file)
    # find out the data size
    N = item.replace("trace_", "").replace(".csv","")
    ovlp_dict[N] = current_ovlp
```


```python
# you don't need to do this step
sorted_ovlp_dict = sorted(ovlp_dict.items(), key=operator.itemgetter(1), reverse=True)
```


```python
sorted_ovlp_dict
```




    [('11600', 0.6967775648853717),
     ('10600', 0.657157433783231),
     ('8800', 0.6520867971194046),
     ('11400', 0.648883374690663),
     ('9400', 0.619932506464499),
     ('9000', 0.6024096385524119),
     ('14300', 0.5995934959352639),
     ('8100', 0.5978472189288068),
     ('10500', 0.5866141732264741),
     ('14000', 0.5844155844149352),
     ('12900', 0.584045584045894),
     ('7300', 0.5672131147547571),
     ('14400', 0.5658482142850704),
     ('16400', 0.5646594274430458),
     ('10200', 0.5602294455058414),
     ('12700', 0.5599999999992042),
     ('14100', 0.5596933187285257),
     ('14600', 0.5451467268616214),
     ('10300', 0.5437170074631364),
     ('11700', 0.5431713636115368),
     ('14800', 0.5327868852463108),
     ('13000', 0.5319488817907421),
     ('13200', 0.5279999999975443),
     ('17500', 0.5275049115908328),
     ('10000', 0.5136718750001626),
     ('12400', 0.5105691056932596),
     ('10100', 0.5086667066517383),
     ('9900', 0.5058139534891927),
     ('10800', 0.5037174721211255),
     ('10400', 0.5028901734099496),
     ('13900', 0.5024330900225117),
     ('11900', 0.5008849557515502),
     ('17700', 0.5004926108388196),
     ('16800', 0.5000152881813275),
     ('11000', 0.49997239551867084),
     ('11200', 0.49918288515887893),
     ('11800', 0.4947552447545118),
     ('12100', 0.4885764499144419),
     ('16000', 0.485824742268351),
     ('14700', 0.48473282442873167),
     ('9500', 0.4844063468900393),
     ('19100', 0.4837251356232018),
     ('11500', 0.48233215547453656),
     ('13600', 0.47869674185498806),
     ('12000', 0.4780824166828276),
     ('9800', 0.4756335282625558),
     ('12300', 0.46952224052660435),
     ('16600', 0.4656810982052199),
     ('9300', 0.4646464646460659),
     ('6900', 0.46356275303851907),
     ('16700', 0.46044864226812404),
     ('8200', 0.4598698481553547),
     ('8600', 0.4585152838447594),
     ('9200', 0.4575532711540296),
     ('12500', 0.45645161290284225),
     ('9700', 0.455769230769868),
     ('18600', 0.4556848701885958),
     ('8300', 0.45512820512949465),
     ('11300', 0.4505300353349793),
     ('8400', 0.4501108647468975),
     ('13300', 0.4378980891718529),
     ('8700', 0.4360086767873311),
     ('12800', 0.4342948717942468),
     ('9100', 0.43196544276368387),
     ('8900', 0.4313725490186214),
     ('8500', 0.4313725490186214),
     ('18700', 0.4306569343047441),
     ('12600', 0.42607385079226),
     ('7100', 0.42469135802196223),
     ('14200', 0.4243759177659122),
     ('19800', 0.4239714837354048),
     ('19900', 0.42171516170003875),
     ('17900', 0.4183506716089751),
     ('10900', 0.41832463735137804),
     ('10700', 0.41732283464459546),
     ('13100', 0.41639871382609106),
     ('17200', 0.4151670951152821),
     ('17400', 0.41273885350405237),
     ('14500', 0.41116005873714356),
     ('7700', 0.41108545034306637),
     ('7500', 0.4106280193217438),
     ('6800', 0.40776699029147145),
     ('7900', 0.4022727272710298),
     ('11100', 0.4020759355370872),
     ('18300', 0.40172786177168396),
     ('16300', 0.4008207934325522),
     ('7200', 0.4000000000034661),
     ('9600', 0.399585795211248),
     ('16500', 0.3980848153199948),
     ('16100', 0.3978201634879165),
     ('15800', 0.39709762533057896),
     ('15100', 0.3964757709256617),
     ('6500', 0.3946078431378098),
     ('7800', 0.39325842696813107),
     ('15700', 0.391483516483064),
     ('19500', 0.38554216867661123),
     ('15500', 0.3853459972866752),
     ('15600', 0.3841961852843692),
     ('14900', 0.3815789473686944),
     ('16200', 0.3782312925163985),
     ('6300', 0.37500000000277556),
     ('13700', 0.3710191082793495),
     ('7600', 0.37100737100544073),
     ('18500', 0.3688989784338774),
     ('17000', 0.3656330749349498),
     ('18100', 0.36490217260823615),
     ('17100', 0.3643312101920024),
     ('15900', 0.3635135135125144),
     ('13500', 0.36062992126082494),
     ('6700', 0.3596059113322692),
     ('15000', 0.3563049853365674),
     ('15400', 0.35434173669304364),
     ('17300', 0.3541260300165284),
     ('18200', 0.3536439665475397),
     ('7400', 0.35207823960638085),
     ('15300', 0.34699853587132423),
     ('13400', 0.3458528951485741),
     ('17600', 0.3418043202044796),
     ('13800', 0.33865814696370483),
     ('6600', 0.33333333333045195),
     ('12200', 0.32920723991648243),
     ('18000', 0.32912988650709385),
     ('16900', 0.32642487046611857),
     ('19400', 0.31946557802847453),
     ('17800', 0.3190416141223271),
     ('15200', 0.3161004431312298),
     ('18900', 0.3152302243200068),
     ('19600', 0.31024859545529543),
     ('18400', 0.30847029077180316),
     ('18800', 0.3070588235295642),
     ('8000', 0.3040685224843147),
     ('19300', 0.29254079253953535),
     ('6200', 0.2923497267758502),
     ('19700', 0.27797408716238164),
     ('6000', 0.2735294117641066),
     ('7000', 0.2641083521469225),
     ('20000', 0.2630885859693555),
     ('19200', 0.26122931442080877),
     ('19000', 0.2499907438261554),
     ('5800', 0.21406727828995364),
     ('5300', 0.21250000000173472),
     ('5100', 0.17197452229468718),
     ('5500', 0.17142857142969928),
     ('5400', 0.1635220125791082),
     ('5600', 0.15312500000182147),
     ('5200', 0.14696485623344074),
     ('6100', 0.1374999999968775),
     ('6400', 0.13440860215004985),
     ('5900', 0.11987381703995043),
     ('5000', 0.11538461538899496),
     ('5700', -0.384364820849318)]




```python
# find out the data size for 2 overlapping rates: 0.25, 0.5 and 0.75
print "max ovlp rate : " + str(sorted_ovlp_dict[0][1])
print "min ovlp rate : " + str(sorted_ovlp_dict[-1][1])
print "\n"

found_75 = found_50 = found_25 = 0

for key, value in sorted_ovlp_dict:
    if (0.75 <= value < 0.76) and found_75 == 0:
        print "overlapping rate : " + str(value) + " data size : " + str(key)
        found_75 = 1
        
    if (0.50 <= value < 0.51) and found_50 == 0:
        print "overlapping rate : " + str(value) + " data size : " + str(key)
        found_50 = 1
        
    if (0.25 <= value < 0.26) and found_25 == 0:
        print "overlapping rate : " + str(value) + " data size : " + str(key)
        found_25 = 1
```

    max ovlp rate : 0.696777564885
    min ovlp rate : -0.384364820849
    
    
    overlapping rate : 0.508666706652 data size : 10100


### adjust


```python
print "max ovlp rate : " + str(sorted_ovlp_dict[0][1])
print "min ovlp rate : " + str(sorted_ovlp_dict[-1][1])
print "\n"

found_75 = found_50 = found_25 = 0

for key, value in sorted_ovlp_dict:
    if (0.69 <= value < 0.70) and found_75 == 0:
        print "overlapping rate : " + str(value) + " data size : " + str(key)
        found_75 = 1
        
    if (0.50 <= value < 0.51) and found_50 == 0:
        print "overlapping rate : " + str(value) + " data size : " + str(key)
        found_50 = 1
        
    if (0.25 <= value < 0.27) and found_25 == 0:
        print "overlapping rate : " + str(value) + " data size : " + str(key)
        found_25 = 1
```

    max ovlp rate : 0.696777564885
    min ovlp rate : -0.384364820849
    
    
    overlapping rate : 0.696777564885 data size : 11600
    overlapping rate : 0.508666706652 data size : 10100
    overlapping rate : 0.264108352147 data size : 7000

